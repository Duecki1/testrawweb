services:
  raw-manager:
    build: .
    ports:
      - "1234:1234"
    environment:
      RAW_MANAGER_LIBRARY_ROOT: ${RAW_MANAGER_LIBRARY_ROOT:-/library}
    volumes:
      - ./data:/data
      - type: bind
        source: ${RAW_LIBRARY_PATH:-./photos}
        target: ${RAW_MANAGER_LIBRARY_ROOT:-/library}
        read_only: true

    user: "1000:1000"  # Use host user ID to avoid permission issues
